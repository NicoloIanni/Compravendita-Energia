import ProducerSlot from "../models/ProducerSlot";
import { ProducerSlotRepository } from "../repositories/ProducerSlotRepository";
import { ProducerSlotService } from "./ProducerSlotService";

// =========================
// Dependency wiring (manual)
// =========================

// Istanza del repository degli slot.
// Qui viene iniettato esplicitamente il model Sequelize ProducerSlot.
// Questo approccio evita dipendenze globali e facilita i test.
const producerSlotRepository = new ProducerSlotRepository({
  producerSlotModel: ProducerSlot,
});

// Istanza del service degli slot.
// Il service incapsula la logica di business e usa il repository
// per accedere al database.
export const producerSlotService = new ProducerSlotService({
  producerSlotRepository,
});
